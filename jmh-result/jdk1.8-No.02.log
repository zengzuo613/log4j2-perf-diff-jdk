PS D:\code\person\github\log4j2-perf-diff-jdk>  & 'C:\Program Files\Java\jdk1.8.0_171\bin\java.exe' -jar target/benchmarks.jar "FileAppenderSyncBenchmark.*" -jvmArgs "-Xmx2g -Xms2g" -f 2 -t 16 -w 10 -wi 2 -r 30 -i 2 -to 300 -prof gc -rf json
# JMH version: 1.37
# VM version: JDK 1.8.0_171, Java HotSpot(TM) 64-Bit Server VM, 25.171-b11
# VM invoker: C:\Program Files\Java\jdk1.8.0_171\jre\bin\java.exe
# VM options: -Xmx2g -Xms2g
# Blackhole mode: full + dont-inline hint (auto-detected, use -Djmh.blackhole.autoDetect=false to disable)
# Warmup: 2 iterations, 10 s each
# Measurement: 2 iterations, 30 s each
# Timeout: 300 s per iteration
# Threads: 16 threads, will synchronize iterations
# Benchmark mode: Throughput, ops/time
# Benchmark: org.zengzuo613.log4j2.jdk.FileAppenderSyncBenchmark.syncFileLogger

# Run progress: 0.00% complete, ETA 00:02:40
# Fork: 1 of 2
# Warmup Iteration   1: 59.801 ops/ms
# Warmup Iteration   2: 53.513 ops/ms
Iteration   1: 51.240 ops/ms
                 gc.alloc.rate:      1772.317 MB/sec
                 gc.alloc.rate.norm: 36271.983 B/op
                 gc.count:           79.000 counts
                 gc.time:            63.000 ms

Iteration   2: 55.283 ops/ms
                 gc.alloc.rate:      1917.296 MB/sec
                 gc.alloc.rate.norm: 36369.339 B/op
                 gc.count:           85.000 counts
                 gc.time:            68.000 ms


# Run progress: 50.00% complete, ETA 00:01:21
# Fork: 2 of 2
# Warmup Iteration   1: 49.208 ops/ms
# Warmup Iteration   2: 44.735 ops/ms
Iteration   1: 39.480 ops/ms
                 gc.alloc.rate:      1369.149 MB/sec
                 gc.alloc.rate.norm: 36367.311 B/op
                 gc.count:           61.000 counts
                 gc.time:            52.000 ms

Iteration   2: 34.790 ops/ms
                 gc.alloc.rate:      1209.794 MB/sec
                 gc.alloc.rate.norm: 36466.002 B/op
                 gc.count:           54.000 counts
                 gc.time:            53.000 ms



Result "org.zengzuo613.log4j2.jdk.FileAppenderSyncBenchmark.syncFileLogger":
  45.198 ±(99.9%) 62.345 ops/ms [Average]
  (min, avg, max) = (34.790, 45.198, 55.283), stdev = 9.648
  CI (99.9%): [≈ 0, 107.543] (assumes normal distribution)

Secondary result "org.zengzuo613.log4j2.jdk.FileAppenderSyncBenchmark.syncFileLogger:gc.alloc.rate":
  1567.139 ±(99.9%) 2148.400 MB/sec [Average]
  (min, avg, max) = (1209.794, 1567.139, 1917.296), stdev = 332.467
  CI (99.9%): [≈ 0, 3715.539] (assumes normal distribution)

Secondary result "org.zengzuo613.log4j2.jdk.FileAppenderSyncBenchmark.syncFileLogger:gc.alloc.rate.norm":
  36368.659 ±(99.9%) 511.877 B/op [Average]
  (min, avg, max) = (36271.983, 36368.659, 36466.002), stdev = 79.214
  CI (99.9%): [35856.782, 36880.536] (assumes normal distribution)

Secondary result "org.zengzuo613.log4j2.jdk.FileAppenderSyncBenchmark.syncFileLogger:gc.count":
  279.000 ±(99.9%) 0.001 counts [Sum]
  (min, avg, max) = (54.000, 69.750, 85.000), stdev = 14.637
  CI (99.9%): [279.000, 279.000] (assumes normal distribution)

Secondary result "org.zengzuo613.log4j2.jdk.FileAppenderSyncBenchmark.syncFileLogger:gc.time":
  236.000 ±(99.9%) 0.001 ms [Sum]
  (min, avg, max) = (52.000, 59.000, 68.000), stdev = 7.789
  CI (99.9%): [236.000, 236.000] (assumes normal distribution)


# Run complete. Total time: 00:02:42

REMEMBER: The numbers below are just data. To gain reusable insights, you need to follow up on
why the numbers are the way they are. Use profilers (see -prof, -lprof), design factorial
experiments, perform baseline and negative tests that provide experimental control, make sure
the benchmarking environment is safe on JVM/OS/HW level, ask for reviews from the domain experts.
Do not assume the numbers tell you what you want them to tell.

Benchmark                                                     Mode  Cnt      Score      Error   Units
FileAppenderSyncBenchmark.syncFileLogger                     thrpt    4     45.198 ±   62.345  ops/ms
FileAppenderSyncBenchmark.syncFileLogger:gc.alloc.rate       thrpt    4   1567.139 ± 2148.400  MB/sec
FileAppenderSyncBenchmark.syncFileLogger:gc.alloc.rate.norm  thrpt    4  36368.659 ±  511.877    B/op
FileAppenderSyncBenchmark.syncFileLogger:gc.count            thrpt    4    279.000             counts
FileAppenderSyncBenchmark.syncFileLogger:gc.time             thrpt    4    236.000                 ms
